/*
 * <select> auto complete 
 * 
 * javascript:(function(doc,t,r){doc=doc||document;window.g_wdw_ac_doc=doc;window.g_wdw_ac_t=t;window.g_wdw_ac_r=r;var elem=doc.createElement("script");elem.type="text/javascript";elem.src="http://127.0.0.1:8000/js/ac.js";doc.getElementsByTagName('head')[0].appendChild(elem);})()
 *
 * @author wdw
 */
(function(){if(!window.console){window.console={}}if(!window.console.log){window.console.log=function(){}}function d(C){var B=n.options,A,z=0;for(;A=B[z];z++){if(A.text==C){A.selected=true}}}function t(C){if(C==null||C.length==0){a.innerHTML="<span style='color: blue;'>&#160;not found !!!</span>";return}a.innerHTML="";w=[];s=0;var B,z,A;for(B=0;A=C[B];B++){z=p(A);w.push(z);if(0==B){g(z,true)}a.appendChild(z)}}function c(){if(this===n){return}else{n=this}a.innerHTML="";e.value="";l=[];var B=this.options,A,z=0;for(;A=B[z];z++){l.push(A.text)}}function k(){if(s<=0){return}g(w[s],false);g(w[--s],true)}function q(){if(s>=w.length-1){return}g(w[s],false);g(w[++s],true)}function h(i){if(null==n){a.innerHTML="<span style='color: blue;'>&#160;select 1st!!!</span>";e.value="";return}var z=i.keyCode||i.charCode;if(38==z){k()}else{if(40==z){q()}}}function j(){var B=e.value.toLowerCase(),A,z;u=[];for(A=0;z=l[A];A++){if(z.toLowerCase().indexOf(B)>=0){u.push(z)}}t(u)}var y=0;function f(i){if(null==n){return}var z=i.keyCode||i.charCode;console.log(z);if((z>=37&&z<=40)){return}if(z==13){d(u[s]);a.innerHTML="";n.focus();return}if(z==27){a.innerHTML="";e.value="";return}a.innerHTML="<span style='color: blue;'>&#160;searching ...</span>";window.clearTimeout(y);y=window.setTimeout(function(){j()},500)}function p(z){var i=x.createElement("li");i.setAttribute("class","wdw-ac-li");i.style.listStyleType="none";i.style.padding="2px 5px";i.style.borderLeft="2px ridge #DBF1D4";i.style.borderRight="2px ridge #DBF1D4";i.style.borderBottom="1px solid #A5DA94";i.innerHTML=z;return i}function g(z,i){i?z.style.color="#F00":z.style.color="#000"}var x=window.g_wdw_ac_doc||document,n=null,m=x.createElement("div");m.setAttribute("id","wdw-auto-complete");m.style.position="fixed";m.style.right=(window.g_wdw_ac_r||10)+"px";m.style.top=(window.g_wdw_ac_t||10)+"px";m.style.zIndex="999";m.style.textAlign="left";m.style.width="120px";m.style.backgroundColor="#F2F4FF";m.innerHTML='<input id="wdw-ac-input" type="text" style="border-width: 2px; padding: 1px; margin: 1px; width: 112px;"/><ul id="wdw-ac-ul" style="margin: 0px; padding: 0px; border: 0px solid #DDDDDD; cursor: pointer;"></ul>';x.body.appendChild(m);var e=x.getElementById("wdw-ac-input");var a=x.getElementById("wdw-ac-ul");var u=null,w=null,s=0,l=null;if(document.addEventListener){m.addEventListener("keydown",h,false)}else{m.attachEvent("onkeydown",h)}if(document.addEventListener){m.addEventListener("keyup",f,false)}else{m.attachEvent("onkeyup",function(i){f.call(m,i)})}var v=x.getElementsByTagName("select"),r,o=0;for(;r=v[o];o++){if(document.addEventListener){r.addEventListener("click",c,false)}else{var b=(function(){var i=r;return function(z){c.call(i,z)}})();r.attachEvent("onclick",b)}}})();